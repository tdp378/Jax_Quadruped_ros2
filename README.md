Reworking to work with ROS2
